---
title: 黑苹果安装记录
date: 2019-05-07 14:08:03
tags: 黑苹果
category: 黑苹果
---

最好百度 Google 搜索 自己电脑型号的
借鉴博客:

黑果小兵:
安装macOS Mojave:
`https://blog.daliansky.net/Lenovo-Xiaoxin-Air-13-macOS-Mojave-installation-tutorial.html`
clover 使用:
`https://blog.daliansky.net/clover-user-manual.html`
Hackintool 内核补丁(启动系统后使用)
`https://blog.daliansky.net/Intel-FB-Patcher-tutorial-and-insertion-pose.html`
Clover Configurator 可视化 配置程序
`https://blog.daliansky.net/Clover-Configurator-Chinese-Version.html`

# 知己知彼

* cpu 的架构
* 主板的型号
* 声卡网卡型号

EFI文件查找
* https://github.com/daliansky/Hackintosh （很不错）
* https://zhih.me/hackintosh/（底噪）


# 安装

1. 安装 etcher(https://www.balena.io/etcher/) 烧录镜像;Windows操作系统下面,以系统管理员身份打开cmd窗口,分出 EFI 区

```
c:\>diskpart
list disk           # 磁盘列表
select disk n       # 选择EFI分区所在的磁盘，n为磁盘号
list partition      # 磁盘分区列表
select partition n  # 选择EFI分区，n为EFI分区号
set id="ebd0a0a2-b9e5-4433-87c0-68b6b72699c7"        # 设置为基本数据分区
assign letter=X     # x为EFI分区盘符
exit                                # 退出diskpart
```
2.下载安装镜像通过 transmac 安装也可以

(最好用原版镜像)

## 安装声卡

AppleALC声卡仿冒教程
https://blog.daliansky.net/Use-AppleALC-sound-card-to-drive-the-correct-posture-of-AppleHDA.html 

AppleALC支持的Codecs列表
https://github.com/acidanthera/AppleALC/wiki/Supported-codecs
https://blog.daliansky.net/AppleALC-Supported-codecs.html 



启动后我发现没声音,百度了通过驱动AppleALC和 Lilu 驱动,通过注入 layout-id 来驱动声卡

问题: 排查了半天,clover 启动参数有 -alcoff - 禁用自身;赶紧去掉....

重点: 如何找自己的  layout-id 

 github 有个开源的项目 `https://github.com/acidanthera/AppleALC`
 
 找见自己的声卡型号 codecs 发现注入 layout-id 
 
 `https://github.com/acidanthera/AppleALC/wiki/Supported-codecs`
 
  我的声卡型号是 Realtek ALC662
  
  ```
 Realtek	ALC662	0x100101, 0x100300, layout 5, 7, 11, 12, 13, 15, 16, 17, 18, 66	13 (10.9)	
  ```

 我通过Clover Configurator ->device->layout-id 注入全部,13,15都可以但是是重音,最后15可以驱动外放,我选择的是15,有的能驱动耳机,估计文档`MinKernel`就是 laytou-id,我猜的
 
## 显卡1536m 到2048m

下载 FB-VRAM Patcher 自动生成核显显存提升补丁

```
Name:	   AppleIntelFramebufferAzul
Find:          00000060 d90a0000 d90a0000 00000000 
replace:	   00000080 d90a0000 d90a0000 00000000
Comment: Change VRAM 1536 -> 2048 for 0x0a260006
```
![avatar](/uploads/20200824/hack1111.jpg)


# 笔记本问题
## mac安装无法抹掉磁盘

分区工具使esp分区大于300m

## 蓝牙无法使用

免驱蓝牙，免驱蓝牙也无法使用？？?
禁用系统自带蓝牙，因为mac只认一个蓝牙。
··
## 字体发虚
hdpi问题，一件脚本开启hdpi
·https://github.com/xzhih/one-key-hidpi·
默认设置-显示设置里面只有分辨率，开启hdpi后有缩放，有较大文字，标准。

免驱蓝牙，免驱蓝牙也无法使用？？?

# 设置默认启动系统

clover configaurator工具里面:

在BOOT选项的Default Boot Volume上键入引导分区的Disk' UUID就能解决问题且模式设置为fast。

http://bbs.pcbeta.com/viewthread-1787729-1-1.html
